@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: dark; }
html, body { height: 100%; scroll-behavior: smooth; }
body { @apply bg-bg text-white antialiased; }

/* ================= HERO CARD ================= */
.hero-card {
    position: relative;
    border-radius: 24px;
    overflow: hidden;
    background: rgba(17,18,26,.75);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}

/* фоновые слои */
.hero-card::before {
    content: "";
    position: absolute; inset: 0;
    border-radius: 24px;
    background-image:
            url("/bg/stars.png"),
            url("/bg/grid.png"),
            radial-gradient(800px 400px at 50% -10%, rgba(124,58,237,.30), transparent 60%);
    background-repeat: repeat, repeat, no-repeat;
    background-size: cover, 120px 120px, 100% 100%;
    background-position: center, center, center;
    z-index: 0;
}

/* нижнее свечение */
.hero-card::after {
    content: "";
    position: absolute; inset: 0;
    border-radius: 24px;
    mix-blend-mode: screen;
    filter: blur(4px);
    background:
            radial-gradient(700px 500px at 100% 100%, rgba(124,58,237,.55), transparent 70%),
            radial-gradient(500px 360px at 90% 100%, rgba(168,85,247,.40), transparent 65%),
            radial-gradient(300px 240px at 95% 95%, rgba(192,132,252,.50), transparent 60%);
    z-index: 0;
}
@media (min-width: 768px) {
    .hero-card::after {
        background:
                radial-gradient(900px 640px at 100% 100%, rgba(124,58,237,.55), transparent 70%),
                radial-gradient(640px 460px at 90% 100%, rgba(168,85,247,.40), transparent 65%),
                radial-gradient(380px 280px at 95% 95%, rgba(192,132,252,.50), transparent 60%);
    }
}
@media (min-width: 1280px) {
    .hero-card::after {
        background:
                radial-gradient(1100px 780px at 100% 100%, rgba(124,58,237,.55), transparent 70%),
                radial-gradient(780px 540px at 90% 100%, rgba(168,85,247,.40), transparent 65%),
                radial-gradient(460px 320px at 95% 95%, rgba(192,132,252,.50), transparent 60%);
    }
}

/* ================= HERO CUBES ================= */
.hero-3d { perspective: 1200px; }

.hero-cube {
    position: absolute;
    width: 180px;
    height: 180px;
    object-fit: contain;
    pointer-events: auto;
    transform-style: preserve-3d;
    transition: transform .45s cubic-bezier(.22,.9,.24,1), filter .45s ease;
    filter: drop-shadow(0 25px 55px rgba(124,58,237,.35));
    -webkit-mask-image: radial-gradient(closest-side, #000 96%, transparent 100%);
    mask-image: radial-gradient(closest-side, #000 96%, transparent 100%);
    image-rendering: optimizeQuality;
}
.hero-cube:hover {
    transform: translateZ(120px) translateY(-8px) rotateX(6deg) rotateY(-8deg) scale(1.06);
    filter: drop-shadow(0 35px 75px rgba(124,58,237,.55));
}
@media (max-width: 1279px) {
    .hero-cube { width: 160px; height: 160px; }
}
@media (max-width: 767px) {
    .hero-cube { display: none; }
}

/* ================= INPUT + BUTTON ================= */
.input-pill {
    height: 48px;
    border-radius: 9999px;
    background: rgba(11,11,15,.6);
    border: 1px solid rgba(255,255,255,.12);
    padding: 0 16px;
    color: #fff;
}
.input-pill::placeholder { color: rgba(255,255,255,.45); }

.btn-hero {
    height: 48px;
    padding: 0 20px;
    border-radius: 9999px;
    background: linear-gradient(180deg, #8B5CF6, #6D28D9);
    box-shadow: 0 0 0 1px rgba(139,92,246,.45), 0 12px 40px rgba(124,58,237,.35);
}
.btn-hero:hover { transform: translateY(-1px); }

/* ================= SHOWCASE ================= */
.app-shell {
    position: relative;
    border-radius: 20px;
    background: rgba(15,16,22,.85);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.06),
    0 20px 60px rgba(0,0,0,.45);
    backdrop-filter: blur(6px);
    overflow: hidden;
}
.app-shell::before {
    content: "";
    position: absolute; inset: -2px;
    border-radius: 22px;
    background: radial-gradient(1200px 600px at 50% -10%, rgba(124,58,237,.22), transparent 60%);
    pointer-events: none;
    z-index: 0;
}
.showcase-wrapper {
    position: relative;
    border-radius: 36px;
    padding: 12px;
    background: rgba(11,11,15,.95);
    box-shadow: 0 0 50px rgba(124,58,237,.5), 0 0 120px rgba(124,58,237,.25);
    overflow: hidden;
}
.showcase-wrapper::before {
    content: "";
    position: absolute; inset: 0;
    border-radius: 36px;
    border: 3px solid rgba(255,255,255,.08);
    pointer-events: none;
    z-index: 1;
}

/* ================= TESTIMONIALS ================= */
.testimonial-card {
    position: relative;
    border-radius: 22px;
    background: radial-gradient(85% 130% at 60% 0%, rgba(124,58,237,.36), rgba(17,18,26,.94) 55%) #0b0b0f;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.09),
    0 40px 110px rgba(124,58,237,.35),
    0 80px 180px rgba(124,58,237,.22);
    overflow: hidden;
}
.testimonial-card::before {
    content: "";
    position: absolute; inset: 0;
    background-image: url("/bg/stars.png");
    background-size: cover; background-position: center;
    opacity: .55;
    pointer-events: none;
}
.t-arrow {
    width: 44px; height: 44px;
    display: grid; place-items: center;
    border-radius: 9999px;
    background: rgba(17,18,26,.65);
    border: 1px solid rgba(255,255,255,.12);
    box-shadow: 0 10px 28px rgba(0,0,0,.45);
    transition: transform .16s ease, box-shadow .2s ease, background .2s ease;
}
.t-arrow:hover {
    transform: translateY(-1px);
    background: rgba(124,58,237,.22);
    box-shadow: 0 22px 50px rgba(124,58,237,.35);
}

/* ================= TESTIMONIALS FIX ================= */

/* Контейнер для выравнивания содержимого */
.testimonial-inner {
    display: grid;
    grid-template-columns: auto 1fr; /* фото + текст */
    align-items: center;
    gap: 1.5rem;
    padding: 2rem 3rem; /* равномерные внутренние отступы */
}

/* Фото (аватар) */
.testimonial-photo {
    flex-shrink: 0;
    width: 72px;
    height: 72px;
    border-radius: 9999px;
    object-fit: cover;
    box-shadow: 0 0 20px rgba(124,58,237,.45);
}

/* Текст */
.testimonial-text {
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-width: 680px;   /* ограничение ширины текста */
    line-height: 1.6;
}

/* Стрелки по бокам */
.testimonial-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: 1rem;
    width: 100%;
    justify-content: space-between;
    padding: 0 1rem;
    pointer-events: none; /* чтобы клики проходили только на кнопки */
}

.testimonial-nav button {
    pointer-events: auto;
}

/* ================= PRICING ================= */
/* ===== Pricing card + hover pattern (и по классу is-active) ===== */
.pricing-card {
    position: relative;
    overflow: hidden;
    transition: transform .5s ease, box-shadow .5s ease, background .5s ease;
}

/* нижнее свечение (самый низкий слой) */
.pricing-card::after {
    content: "";
    position: absolute; inset: -1px;
    z-index: 0;
    pointer-events: none;
    background:
            radial-gradient(600px 400px at 100% 100%, rgba(124,58,237,.45), transparent 65%),
            radial-gradient(420px 300px at 90% 100%, rgba(168,85,247,.28), transparent 60%);
    opacity: 0;
    transition: opacity .4s ease;
    filter: blur(2px);
}

/* паттерн поверх свечения, под контентом */
.pricing-card::before {
    content: "";
    position: absolute; inset: 0;
    z-index: 1;
    pointer-events: none;
    background-image: url("/bg/pattern-1.png");   /* <- проверь путь и имя */
    background-repeat: repeat;
    background-size: 220px 220px;               /* шаг сетки */
    background-position: center;
    opacity: 0;
    mix-blend-mode: screen;
    transition: opacity .35s ease;
}

/* Включение по hover и по классу .is-active (для мобильных) */
.pricing-card:hover::before,
.pricing-card.is-active::before { opacity: .35; }
.pricing-card:hover::after,
.pricing-card.is-active::after { opacity: 1; }

/* контент всегда поверх */
.pricing-card > * {
    position: relative;
    z-index: 2;
}

/* (опционально) лёгкое плавное движение паттерна на hover */
@keyframes driftPattern {
    from { background-position: 0 0; }
    to   { background-position: 0 -120px; }
}
.pricing-card:hover::before,
.pricing-card.is-active::before {
    animation: driftPattern 12s linear infinite;
}

/* ================= DECORATIVE SHAPES ================= */
.shape {
    position: absolute;
    z-index: -1;
    pointer-events: none;
    user-select: none;
    will-change: transform, opacity;
    filter: saturate(1.1) brightness(1.05);
    mix-blend-mode: screen;
}
.shape--feather {
    -webkit-mask-image: radial-gradient(closest-side, #000 75%, transparent 100%);
    mask-image: radial-gradient(closest-side, #000 75%, transparent 100%);
}
@keyframes float-y { from { transform: translateY(0) } 70% { transform: translateY(-10px) } to { transform: translateY(0) } }
@keyframes slow-rot { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }
.animate-float { animation: float-y 5s ease-in-out infinite; }
.animate-rot { animation: slow-rot 48s linear infinite; }